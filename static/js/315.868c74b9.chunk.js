"use strict";(self.webpackChunksevara=self.webpackChunksevara||[]).push([[315],{1002:(e,t,r)=>{r.d(t,{DC:()=>o,SK:()=>n,nN:()=>a});var s=r(9379);const d="schedule",i=[{id:"101",courseId:"1",date:"2025-02-01",time:"10:00",room:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f 305"},{id:"102",courseId:"2",date:"2025-02-02",time:"12:30",room:"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u044f 2"}];function l(e){localStorage.setItem(d,JSON.stringify(e))}function o(){const e=localStorage.getItem(d);if(!e)return localStorage.setItem(d,JSON.stringify(i)),i;try{return JSON.parse(e)}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 schedule \u0438\u0437 localStorage",t),[]}}function n(e){const t=o(),r=String(Date.now()),d=(0,s.A)({id:r},e);return t.push(d),l(t),d}function a(e){let t=o();t=t.filter((t=>t.id!==e)),l(t)}},315:(e,t,r)=>{r.r(t),r.d(t,{SchedulePage:()=>I});var s=r(5043),d=r(9748),i=r(8205),l=r(5206),o=r(4522),n=r(6755),a=r(1115),c=r(7107),m=r(4325),u=r(7210),h=r(1002),x=r(9071),j=r(579);const I=()=>{const[e,t]=(0,s.useState)([]),[r,I]=(0,s.useState)(!1),[g]=d.A.useForm(),A=(0,x.Ht)(),v=!i.Ay.useBreakpoint().md;(0,s.useEffect)((()=>{const e=(0,h.DC)();t(e)}),[]);const y=e=>{(0,h.nN)(e),t((t=>t.filter((t=>t.id!==e))))},f=()=>{I(!1),g.resetFields()},S=[{title:"\u0414\u0430\u0442\u0430",dataIndex:"date",key:"date"},{title:"\u0412\u0440\u0435\u043c\u044f",dataIndex:"time",key:"time"},{title:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f",dataIndex:"room",key:"room"},{title:"ID \u043a\u0443\u0440\u0441\u0430",dataIndex:"courseId",key:"courseId"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435",render:(e,t)=>"teacher"===(null===A||void 0===A?void 0:A.role)&&(0,j.jsx)(l.Ay,{danger:!0,onClick:()=>y(t.id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}];return(0,j.jsxs)("div",{className:"schedule-page",children:[(0,j.jsx)("h2",{children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),"teacher"===(null===A||void 0===A?void 0:A.role)&&(0,j.jsx)(l.Ay,{type:"primary",style:{marginBottom:16},onClick:()=>{I(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435"}),v?(0,j.jsx)(o.A,{dataSource:e,rowKey:"id",renderItem:e=>(0,j.jsx)(o.A.Item,{actions:"teacher"===(null===A||void 0===A?void 0:A.role)?[(0,j.jsx)(l.Ay,{danger:!0,onClick:()=>y(e.id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},"delete")]:[],children:(0,j.jsx)(o.A.Item.Meta,{title:(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"\u0414\u0430\u0442\u0430:"})," ",e.date,(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"\u0412\u0440\u0435\u043c\u044f:"})," ",e.time]})]}),description:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f:"})," ",e.room]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"ID \u043a\u0443\u0440\u0441\u0430:"})," ",e.courseId]})]})})})}):(0,j.jsx)(n.A,{columns:S,dataSource:e,rowKey:"id",scroll:{x:!0}}),(0,j.jsx)(a.A,{visible:r,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435",onCancel:f,onOk:()=>{g.validateFields().then((e=>{const{date:r,time:s,room:d,courseId:i}=e;(0,h.SK)({date:r.format("YYYY-MM-DD"),time:s.format("HH:mm"),room:d,courseId:i}),t((0,h.DC)()),f()}))},children:(0,j.jsxs)(d.A,{form:g,layout:"vertical",children:[(0,j.jsx)(d.A.Item,{label:"\u0414\u0430\u0442\u0430",name:"date",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"}],children:(0,j.jsx)(c.A,{format:"YYYY-MM-DD",style:{width:"100%"}})}),(0,j.jsx)(d.A.Item,{label:"\u0412\u0440\u0435\u043c\u044f",name:"time",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f"}],children:(0,j.jsx)(m.A,{format:"HH:mm",style:{width:"100%"}})}),(0,j.jsx)(d.A.Item,{label:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f",name:"room",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044e"}],children:(0,j.jsx)(u.A,{})}),(0,j.jsx)(d.A.Item,{label:"ID \u043a\u0443\u0440\u0441\u0430",name:"courseId",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 ID \u043a\u0443\u0440\u0441\u0430"}],children:(0,j.jsx)(u.A,{placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, 1"})})]})})]})}}}]);
//# sourceMappingURL=315.868c74b9.chunk.js.map