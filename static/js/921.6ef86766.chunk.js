"use strict";(self.webpackChunksevara=self.webpackChunksevara||[]).push([[921],{5389:(e,t,s)=>{s.d(t,{C_:()=>a,J4:()=>d,OM:()=>c,YG:()=>l,zs:()=>u});var r=s(9379);const i="courses",n=[{id:"1",title:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",description:"\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u043a\u0443\u0440\u0441 \u043f\u043e \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0435",teacherId:"teacher"},{id:"2",title:"\u0424\u0438\u0437\u0438\u043a\u0430",description:"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0443",teacherId:"teacher"}];function c(){const e=localStorage.getItem(i);if(!e)return localStorage.setItem(i,JSON.stringify(n)),n;try{return JSON.parse(e)}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u043a\u0443\u0440\u0441\u043e\u0432 \u0438\u0437 localStorage",t),[]}}function l(e){return c().find((t=>t.id===e))||null}function o(e){localStorage.setItem(i,JSON.stringify(e))}function a(e){const t=c(),s=String(Date.now()),i=(0,r.A)({id:s},e);return t.push(i),o(t),i}function d(e,t){const s=c(),i=s.findIndex((t=>t.id===e));return-1===i?null:(s[i]=(0,r.A)((0,r.A)({},s[i]),t),o(s),s[i])}function u(e){let t=c();t=t.filter((t=>t.id!==e)),o(t)}},7921:(e,t,s)=>{s.r(t),s.d(t,{CourseDetailPage:()=>g});var r=s(5043),i=s(2250),n=s(9748),c=s(9602),l=s(5397),o=s(5206),a=s(6616),d=s(1982),u=s(5389),h=s(9071),p=s(579);const g=()=>{const{id:e}=(0,i.g)(),t=(0,i.Zp)(),s=(0,h.Ht)(),[g,m]=(0,r.useState)(null),[f,x]=(0,r.useState)(!1),[A]=n.A.useForm();if((0,r.useEffect)((()=>{const s=(0,u.YG)(e);s?m(s):t("/courses")}),[e,t]),!g)return null;const y=()=>{x(!1),A.resetFields()};return(0,p.jsxs)("div",{style:{maxWidth:600},children:[(0,p.jsxs)(l.A,{title:g.title,children:[(0,p.jsx)("p",{children:g.description}),(0,p.jsxs)("p",{children:["Teacher ID: ",g.teacherId]}),"teacher"===(null===s||void 0===s?void 0:s.role)&&(0,p.jsxs)("div",{style:{marginTop:"16px"},children:[(0,p.jsx)(o.Ay,{type:"primary",onClick:()=>{x(!0),A.setFieldsValue({title:g.title,description:g.description})},style:{marginRight:8},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,p.jsx)(o.Ay,{danger:!0,onClick:()=>{(0,u.zs)(g.id),c.Ay.success({message:"\u041a\u0443\u0440\u0441 \u0443\u0434\u0430\u043b\u0451\u043d"}),t("/courses")},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]}),(0,p.jsx)(a.A,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0443\u0440\u0441",open:f,onCancel:y,onOk:()=>A.submit(),children:(0,p.jsxs)(n.A,{form:A,layout:"vertical",onFinish:e=>{try{const t=(0,u.J4)(g.id,{title:e.title,description:e.description});m(t),c.Ay.success({message:"\u041a\u0443\u0440\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d"}),y()}catch(t){c.Ay.error({message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u0443\u0440\u0441\u0430"}),console.error(t)}},children:[(0,p.jsx)(n.A.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430",name:"title",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430"}],children:(0,p.jsx)(d.A,{})}),(0,p.jsx)(n.A.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430"}],children:(0,p.jsx)(d.A.TextArea,{rows:3})})]})})]})}}}]);
//# sourceMappingURL=921.6ef86766.chunk.js.map