"use strict";(self.webpackChunksevara=self.webpackChunksevara||[]).push([[669],{5389:(e,t,r)=>{r.d(t,{C_:()=>c,J4:()=>d,OM:()=>s,YG:()=>a,zs:()=>u});var n=r(9379);const o="courses",i=[{id:"1",title:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",description:"\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u043a\u0443\u0440\u0441 \u043f\u043e \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0435",teacherId:"teacher"},{id:"2",title:"\u0424\u0438\u0437\u0438\u043a\u0430",description:"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0443",teacherId:"teacher"}];function s(){const e=localStorage.getItem(o);if(!e)return localStorage.setItem(o,JSON.stringify(i)),i;try{return JSON.parse(e)}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u043a\u0443\u0440\u0441\u043e\u0432 \u0438\u0437 localStorage",t),[]}}function a(e){return s().find((t=>t.id===e))||null}function l(e){localStorage.setItem(o,JSON.stringify(e))}function c(e){const t=s(),r=String(Date.now()),o=(0,n.A)({id:r},e);return t.push(o),l(t),o}function d(e,t){const r=s(),o=r.findIndex((t=>t.id===e));return-1===o?null:(r[o]=(0,n.A)((0,n.A)({},r[o]),t),l(r),r[o])}function u(e){let t=s();t=t.filter((t=>t.id!==e)),l(t)}},1002:(e,t,r)=>{r.d(t,{DC:()=>a,SK:()=>l,nN:()=>c});var n=r(9379);const o="schedule",i=[{id:"101",courseId:"1",date:"2025-02-01",time:"10:00",room:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f 305"},{id:"102",courseId:"2",date:"2025-02-02",time:"12:30",room:"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u044f 2"}];function s(e){localStorage.setItem(o,JSON.stringify(e))}function a(){const e=localStorage.getItem(o);if(!e)return localStorage.setItem(o,JSON.stringify(i)),i;try{return JSON.parse(e)}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 schedule \u0438\u0437 localStorage",t),[]}}function l(e){const t=a(),r=String(Date.now()),o=(0,n.A)({id:r},e);return t.push(o),s(t),o}function c(e){let t=a();t=t.filter((t=>t.id!==e)),s(t)}},6669:(e,t,r)=>{r.r(t),r.d(t,{SchedulePage:()=>I});var n=r(5043),o=r(7107),i=r(9748),s=r(5206),a=r(9462),l=r(6616),c=r(4325),d=r(1982),u=r(1002),m=(r(5389),r(9071)),h=r(579);const{RangePicker:f}=o.A,I=()=>{const[e,t]=(0,n.useState)([]),[r,f]=(0,n.useState)(!1),[I]=i.A.useForm(),g=(0,m.Ht)();(0,n.useEffect)((()=>{const e=(0,u.DC)();t(e)}),[]);const S=[{title:"\u0414\u0430\u0442\u0430",dataIndex:"date",key:"date"},{title:"\u0412\u0440\u0435\u043c\u044f",dataIndex:"time",key:"time"},{title:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f",dataIndex:"room",key:"room"},{title:"ID \u043a\u0443\u0440\u0441\u0430",dataIndex:"courseId",key:"courseId"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435",render:(e,t)=>"teacher"===(null===g||void 0===g?void 0:g.role)&&(0,h.jsx)(s.Ay,{danger:!0,onClick:()=>x(t.id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}],x=e=>{(0,u.nN)(e),t((t=>t.filter((t=>t.id!==e))))},y=()=>{f(!1),I.resetFields()};return(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),"teacher"===(null===g||void 0===g?void 0:g.role)&&(0,h.jsx)(s.Ay,{type:"primary",style:{marginBottom:16},onClick:()=>{f(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435"}),(0,h.jsx)(a.A,{columns:S,dataSource:e,rowKey:"id"}),(0,h.jsx)(l.A,{visible:r,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435",onCancel:y,onOk:()=>{I.validateFields().then((e=>{const{date:r,time:n,room:o,courseId:i}=e;(0,u.SK)({date:r.format("YYYY-MM-DD"),time:n.format("HH:mm"),room:o,courseId:i}),t((0,u.DC)()),y()}))},children:(0,h.jsxs)(i.A,{form:I,layout:"vertical",children:[(0,h.jsx)(i.A.Item,{label:"\u0414\u0430\u0442\u0430",name:"date",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"}],children:(0,h.jsx)(o.A,{format:"YYYY-MM-DD",style:{width:"100%"}})}),(0,h.jsx)(i.A.Item,{label:"\u0412\u0440\u0435\u043c\u044f",name:"time",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f"}],children:(0,h.jsx)(c.A,{format:"HH:mm",style:{width:"100%"}})}),(0,h.jsx)(i.A.Item,{label:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f",name:"room",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044e"}],children:(0,h.jsx)(d.A,{})}),(0,h.jsx)(i.A.Item,{label:"ID \u043a\u0443\u0440\u0441\u0430",name:"courseId",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 ID \u043a\u0443\u0440\u0441\u0430"}],children:(0,h.jsx)(d.A,{placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, 1"})})]})})]})}}}]);
//# sourceMappingURL=669.7c9d925b.chunk.js.map