"use strict";(self.webpackChunksevara=self.webpackChunksevara||[]).push([[225],{5389:(e,t,r)=>{r.d(t,{C_:()=>o,J4:()=>d,OM:()=>i,YG:()=>a,zs:()=>u});var n=r(9379);const s="courses",l=[{id:"1",title:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",description:"\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u043a\u0443\u0440\u0441 \u043f\u043e \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0435",teacherId:"teacher"},{id:"2",title:"\u0424\u0438\u0437\u0438\u043a\u0430",description:"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0443",teacherId:"teacher"}];function i(){const e=localStorage.getItem(s);if(!e)return localStorage.setItem(s,JSON.stringify(l)),l;try{return JSON.parse(e)}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u043a\u0443\u0440\u0441\u043e\u0432 \u0438\u0437 localStorage",t),[]}}function a(e){return i().find((t=>t.id===e))||null}function c(e){localStorage.setItem(s,JSON.stringify(e))}function o(e){const t=i(),r=String(Date.now()),s=(0,n.A)({id:r},e);return t.push(s),c(t),s}function d(e,t){const r=i(),s=r.findIndex((t=>t.id===e));return-1===s?null:(r[s]=(0,n.A)((0,n.A)({},r[s]),t),c(r),r[s])}function u(e){let t=i();t=t.filter((t=>t.id!==e)),c(t)}},1002:(e,t,r)=>{r.d(t,{DC:()=>a,SK:()=>c,nN:()=>o});var n=r(9379);const s="schedule",l=[{id:"101",courseId:"1",date:"2025-02-01",time:"10:00",room:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f 305"},{id:"102",courseId:"2",date:"2025-02-02",time:"12:30",room:"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u044f 2"}];function i(e){localStorage.setItem(s,JSON.stringify(e))}function a(){const e=localStorage.getItem(s);if(!e)return localStorage.setItem(s,JSON.stringify(l)),l;try{return JSON.parse(e)}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 schedule \u0438\u0437 localStorage",t),[]}}function c(e){const t=a(),r=String(Date.now()),s=(0,n.A)({id:r},e);return t.push(s),i(t),s}function o(e){let t=a();t=t.filter((t=>t.id!==e)),i(t)}},4225:(e,t,r)=>{r.r(t),r.d(t,{DashboardPage:()=>S});var n=r(9379),s=r(5043),l=r(4357);const i=r(8821).A;var a=r(9071),c=r(5389),o=r(1002);const d=r(227).A;var u=r(5397),h=r(5206),x=r(579);const{Title:f,Text:v}=l.A,g=e=>{let{title:t,value:r,extra:n,link:s,linkText:l}=e;return(0,x.jsx)(d,{span:8,children:(0,x.jsxs)(u.A,{className:"dashboard-card",children:[(0,x.jsx)(f,{level:4,children:t}),(0,x.jsx)(v,{className:"dashboard-card-value",children:r}),n&&(0,x.jsx)("div",{className:"dashboard-card-extra",children:n}),s&&(0,x.jsx)("div",{className:"dashboard-card-link",children:(0,x.jsx)(h.Ay,{type:"primary",href:s,children:l})})]})})},{Title:j,Text:p}=l.A,S=()=>{const[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[h,f]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=(0,a.Ht)();e&&t(e);const r=(0,c.OM)();l(r);const s=(0,o.DC)();if(u(s),s.length>0){const e=new Date,t=s.map((e=>{const[t,r,s]=e.date.split("-"),[l,i]=e.time.split(":"),a=new Date(+t,+r-1,+s,+l,+i);return(0,n.A)((0,n.A)({},e),{},{eventDate:a})})).filter((t=>t.eventDate>e)).sort(((e,t)=>e.eventDate-t.eventDate));t.length>0&&f(t[0])}}),[]);let v=0;return e&&"teacher"===e.role&&(v=r.filter((t=>t.teacherId===e.login)).length),(0,x.jsxs)("div",{style:{padding:"16px"},children:[(0,x.jsxs)(j,{level:2,children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, ",null===e||void 0===e?void 0:e.fullName,"!"]}),(0,x.jsxs)(p,{children:["\u0412\u0430\u0448\u0430 \u0440\u043e\u043b\u044c: ",(0,x.jsx)("b",{children:"teacher"===(null===e||void 0===e?void 0:e.role)?"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c":"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})]}),(0,x.jsxs)(i,{gutter:[16,16],style:{marginTop:16},children:[(0,x.jsx)(g,{title:"\u0412\u0441\u0435\u0433\u043e \u043a\u0443\u0440\u0441\u043e\u0432:",value:r.length,extra:"teacher"===(null===e||void 0===e?void 0:e.role)&&(0,x.jsxs)(p,{type:"secondary",children:["\u041a\u0443\u0440\u0441\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b \u0432\u0435\u0434\u0451\u0442\u0435: ",(0,x.jsx)(p,{strong:!0,children:v})]}),link:"#/courses",linkText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043a\u0443\u0440\u0441\u0430\u043c"}),(0,x.jsx)(g,{title:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",value:"".concat(d.length," \u0437\u0430\u043d\u044f\u0442\u0438\u0439"),extra:h?(0,x.jsxs)("div",{children:[(0,x.jsx)(p,{type:"secondary",children:"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u0435:"}),(0,x.jsx)("div",{children:(0,x.jsxs)(p,{children:[h.date," \u0432 ",h.time,", \u043a\u0443\u0440\u0441 ID ",h.courseId]})})]}):(0,x.jsx)(p,{type:"secondary",children:"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0445 \u0437\u0430\u043d\u044f\u0442\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."}),link:"#/schedule",linkText:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]})]})}}}]);
//# sourceMappingURL=225.acde8ec7.chunk.js.map