"use strict";(self.webpackChunksevara=self.webpackChunksevara||[]).push([[669],{1002:(e,t,r)=>{r.d(t,{DC:()=>i,SK:()=>d,nN:()=>n});var s=r(9379);const o="schedule",a=[{id:"101",courseId:"1",date:"2025-02-01",time:"10:00",room:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f 305"},{id:"102",courseId:"2",date:"2025-02-02",time:"12:30",room:"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u044f 2"}];function l(e){localStorage.setItem(o,JSON.stringify(e))}function i(){const e=localStorage.getItem(o);if(!e)return localStorage.setItem(o,JSON.stringify(a)),a;try{return JSON.parse(e)}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 schedule \u0438\u0437 localStorage",t),[]}}function d(e){const t=i(),r=String(Date.now()),o=(0,s.A)({id:r},e);return t.push(o),l(t),o}function n(e){let t=i();t=t.filter((t=>t.id!==e)),l(t)}},6669:(e,t,r)=>{r.r(t),r.d(t,{SchedulePage:()=>I});var s=r(5043),o=r(9748),a=r(5206),l=r(6755),i=r(1115),d=r(7107),n=r(4325),c=r(7210),m=r(1002),u=r(9071),h=r(579);const I=()=>{const[e,t]=(0,s.useState)([]),[r,I]=(0,s.useState)(!1),[x]=o.A.useForm(),f=(0,u.Ht)();(0,s.useEffect)((()=>{const e=(0,m.DC)();t(e)}),[]);const y=[{title:"\u0414\u0430\u0442\u0430",dataIndex:"date",key:"date"},{title:"\u0412\u0440\u0435\u043c\u044f",dataIndex:"time",key:"time"},{title:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f",dataIndex:"room",key:"room"},{title:"ID \u043a\u0443\u0440\u0441\u0430",dataIndex:"courseId",key:"courseId"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435",render:(e,t)=>"teacher"===(null===f||void 0===f?void 0:f.role)&&(0,h.jsx)(a.Ay,{danger:!0,onClick:()=>g(t.id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}],g=e=>{(0,m.nN)(e),t((t=>t.filter((t=>t.id!==e))))},j=()=>{I(!1),x.resetFields()};return(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),"teacher"===(null===f||void 0===f?void 0:f.role)&&(0,h.jsx)(a.Ay,{type:"primary",style:{marginBottom:16},onClick:()=>{I(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435"}),(0,h.jsx)(l.A,{columns:y,dataSource:e,rowKey:"id"}),(0,h.jsx)(i.A,{visible:r,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0435",onCancel:j,onOk:()=>{x.validateFields().then((e=>{const{date:r,time:s,room:o,courseId:a}=e;(0,m.SK)({date:r.format("YYYY-MM-DD"),time:s.format("HH:mm"),room:o,courseId:a}),t((0,m.DC)()),j()}))},children:(0,h.jsxs)(o.A,{form:x,layout:"vertical",children:[(0,h.jsx)(o.A.Item,{label:"\u0414\u0430\u0442\u0430",name:"date",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"}],children:(0,h.jsx)(d.A,{format:"YYYY-MM-DD",style:{width:"100%"}})}),(0,h.jsx)(o.A.Item,{label:"\u0412\u0440\u0435\u043c\u044f",name:"time",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f"}],children:(0,h.jsx)(n.A,{format:"HH:mm",style:{width:"100%"}})}),(0,h.jsx)(o.A.Item,{label:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f",name:"room",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044e"}],children:(0,h.jsx)(c.A,{})}),(0,h.jsx)(o.A.Item,{label:"ID \u043a\u0443\u0440\u0441\u0430",name:"courseId",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 ID \u043a\u0443\u0440\u0441\u0430"}],children:(0,h.jsx)(c.A,{placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, 1"})})]})})]})}}}]);
//# sourceMappingURL=669.bb8356ec.chunk.js.map