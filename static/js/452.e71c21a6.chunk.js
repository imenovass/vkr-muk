"use strict";(self.webpackChunksevara=self.webpackChunksevara||[]).push([[452],{8452:(e,s,t)=>{t.r(s),t.d(s,{CoursesPage:()=>j});var i=t(5043),r=t(2250),a=t(9748),n=t(349),c=t(1645),l=t(9073),d=t(5206),o=t(7419),u=t(1115),p=t(7210),m=t(7770),h=t(9071),x=t(579);const j=()=>{const e=(0,r.Zp)(),s=(0,h.Ht)(),[t,j]=(0,i.useState)([]),[A,g]=(0,i.useState)(!1),[v]=a.A.useForm();(0,i.useEffect)((()=>{let e=(0,m.OM)();if(0===e.length){const s=[{id:"1",title:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",description:"\u0418\u0437\u0443\u0447\u0430\u0435\u043c \u0447\u0438\u0441\u043b\u0430, \u0444\u043e\u0440\u043c\u0443\u043b\u044b, \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0438 \u043c\u0435\u0442\u043e\u0434\u044b \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447 \u2014 \u0432\u0441\u0451, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u043d\u0430\u0443\u043a\u0438, \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u0438 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439!",teacherId:"teacher",participants:[],materials:[],submissions:[],url:"",createdAt:(new Date).toISOString()},{id:"2",title:"\u0424\u0438\u0437\u0438\u043a\u0430",description:"\u0418\u0437\u0443\u0447\u0430\u0435\u043c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435, \u0441\u0438\u043b\u044b, \u044d\u043d\u0435\u0440\u0433\u0438\u044e, \u0432\u043e\u043b\u043d\u044b, \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435. \u041e\u0441\u043d\u043e\u0432\u0430 \u0434\u043b\u044f \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0445 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0435\u0439!",teacherId:"teacher",participants:[],materials:[],submissions:[],url:"",createdAt:(new Date).toISOString()},{id:"3",title:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u0430\u044f \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0438\u044f",description:"\u0423\u0437\u043d\u0430\u0435\u043c \u043a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435, \u043d\u0430\u0434\u0451\u0436\u043d\u043e\u0435 \u0438 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u043c\u043e\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435. \u0418\u0437\u0443\u0447\u0430\u0435\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044b (Agile, DevOps), \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443.",teacherId:"teacher",participants:[],materials:[],submissions:[],url:"",createdAt:(new Date).toISOString()},{id:"4",title:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",description:"\u0420\u0430\u0437\u0432\u0438\u0432\u0430\u0435\u043c \u043d\u0430\u0432\u044b\u043a\u0438 \u0447\u0442\u0435\u043d\u0438\u044f, \u043f\u0438\u0441\u044c\u043c\u0430, \u0430\u0443\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u043e\u0439 \u0440\u0435\u0447\u0438. \u0423\u0447\u0438\u043c \u044f\u0437\u044b\u043a \u2014 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043c\u0438\u0440!",teacherId:"teacher",participants:[],materials:[],submissions:[],url:"",createdAt:(new Date).toISOString()}];(0,m.bU)(s),e=s}j(e)}),[]);let y=[],I=[];"teacher"===(null===s||void 0===s?void 0:s.role)?(y=t.filter((e=>e.teacherId===s.username)),I=t.filter((e=>e.teacherId!==s.username))):"student"===(null===s||void 0===s?void 0:s.role)&&(y=t.filter((e=>e.participants.includes(s.username))),I=t.filter((e=>!e.participants.includes(s.username))));const b=()=>{g(!1),v.resetFields()},f=t=>(0,x.jsx)(c.A,{xs:24,sm:12,md:8,lg:6,style:{marginBottom:16},children:(0,x.jsx)(l.A,{className:"course-card",title:t.title,hoverable:!0,onClick:()=>{return s=t.id,void e("/courses/".concat(s));var s},children:(0,x.jsxs)("div",{className:"course-card-content",children:[(0,x.jsx)("div",{className:"course-description",children:t.description}),"student"===s.role&&t.participants.includes(s.username)&&(0,x.jsx)("p",{className:"course-status",children:"\u0412\u044b \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442\u0435 \u0432 \u043a\u0443\u0440\u0441\u0435"})]})})},t.id),S=e=>(0,x.jsx)(c.A,{xs:24,sm:12,md:8,lg:6,style:{marginBottom:16},children:(0,x.jsx)(l.A,{className:"course-card",title:e.title,hoverable:!1,children:(0,x.jsxs)("div",{className:"course-card-content",children:[(0,x.jsx)("div",{className:"course-description",children:e.description}),"student"===s.role&&!e.participants.includes(s.username)&&(0,x.jsx)(d.Ay,{type:"primary",block:!0,size:"small",onClick:()=>(e=>{const i=t.find((s=>s.id===e));if(i&&!i.participants.includes(s.username)){const t=[...i.participants,s.username],r=(0,m.J4)(e,{participants:t});j((s=>s.map((s=>s.id===e?r:s)))),n.Ay.success({message:"\u0412\u044b \u0437\u0430\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u043a\u0443\u0440\u0441"})}})(e.id),children:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})})},e.id);return(0,x.jsxs)("div",{style:{padding:16},children:[(0,x.jsx)("h2",{children:"\u041a\u0443\u0440\u0441\u044b"}),"teacher"===(null===s||void 0===s?void 0:s.role)&&(0,x.jsx)(d.Ay,{type:"primary",style:{marginBottom:16},onClick:()=>{g(!0),v.resetFields()},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0443\u0440\u0441"}),(0,x.jsx)("h3",{children:"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"}),0===y.length?(0,x.jsx)("p",{children:"\u041d\u0435\u0442 \u043a\u0443\u0440\u0441\u043e\u0432"}):(0,x.jsx)(o.A,{gutter:[16,16],children:y.map((e=>f(e)))}),(0,x.jsx)("h3",{style:{marginTop:32},children:"\u0414\u0440\u0443\u0433\u0438\u0435 \u043a\u0443\u0440\u0441\u044b"}),0===I.length?(0,x.jsx)("p",{children:"\u041d\u0435\u0442 \u043a\u0443\u0440\u0441\u043e\u0432"}):(0,x.jsx)(o.A,{gutter:[16,16],children:I.map((e=>S(e)))}),(0,x.jsx)(u.A,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0443\u0440\u0441",open:A,onCancel:b,onOk:()=>{v.validateFields().then((e=>{const{title:t,description:i}=e,r=(0,m.C_)({title:t,description:i,teacherId:s.username,participants:[],createdAt:(new Date).toISOString()});j((e=>[r,...e])),n.Ay.success({message:"\u041a\u0443\u0440\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!"}),b()}))},children:(0,x.jsxs)(a.A,{layout:"vertical",form:v,children:[(0,x.jsx)(a.A.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430",name:"title",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}],children:(0,x.jsx)(p.A,{})}),(0,x.jsx)(a.A.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430",name:"description",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}],children:(0,x.jsx)(p.A.TextArea,{rows:3})})]})})]})}}}]);
//# sourceMappingURL=452.e71c21a6.chunk.js.map