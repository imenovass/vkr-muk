"use strict";(self.webpackChunksevara=self.webpackChunksevara||[]).push([[805],{1805:(e,s,r)=>{r.r(s),r.d(s,{ProfilePage:()=>m});var n=r(5043),a=r(9748),l=r(349),t=r(9073),c=r(5206),i=r(1115),o=r(7210),d=r(9071),u=r(305),h=r(579);const m=()=>{const[e,s]=(0,n.useState)(null),[r,m]=(0,n.useState)(!1),[x]=a.A.useForm();if((0,n.useEffect)((()=>{const e=(0,d.Ht)();e&&s(e)}),[]),!e)return(0,h.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});const j=()=>{m(!1),x.resetFields()};return(0,h.jsxs)("div",{style:{maxWidth:600},children:[(0,h.jsxs)(t.A,{title:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"\u041b\u043e\u0433\u0438\u043d:"})," ",e.username]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"\u0420\u043e\u043b\u044c:"})," ",e.role]}),"teacher"===e.role&&(0,h.jsx)(c.Ay,{type:"primary",onClick:()=>{m(!0),x.resetFields()},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"})]}),(0,h.jsx)(i.A,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",open:r,onCancel:j,onOk:()=>x.submit(),children:(0,h.jsxs)(a.A,{form:x,layout:"vertical",onFinish:async e=>{const{username:s,password:r}=e;try{await u.pb.collection("users2").create({username:s,password:r,passwordConfirm:r,role:"student"}),l.Ay.success({message:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!"}),j()}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430:",n),l.Ay.error({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"})}},children:[(0,h.jsx)(a.A.Item,{label:"\u041b\u043e\u0433\u0438\u043d \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}],children:(0,h.jsx)(o.A,{})}),(0,h.jsx)(a.A.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],children:(0,h.jsx)(o.A.Password,{})})]})})]})}}}]);
//# sourceMappingURL=805.c62531f5.chunk.js.map