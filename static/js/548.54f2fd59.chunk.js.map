{"version":3,"file":"static/js/548.54f2fd59.chunk.js","mappings":"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","sources":["entities/course/model/courseStorage.js","entities/schedule/model/scheduleStorage.js","../node_modules/antd/es/row/index.js","../node_modules/antd/es/col/index.js","pages/DashboardPage/ui/DashboardPage.jsx"],"sourcesContent":["// entities/course/model/courseStorage.js\n\nconst STORAGE_KEY = \"courses\";\n\n// Стартовый (mock) список курсов (можно загрузить при первом запуске)\nconst initialCourses = [\n    {\n        id: \"1\",\n        title: \"Математика\",\n        description: \"Базовый курс по математике\",\n        teacherId: \"teacher\", // условно привяжем к логину преподавателя\n    },\n    {\n        id: \"2\",\n        title: \"Физика\",\n        description: \"Введение в механику\",\n        teacherId: \"teacher\",\n    },\n];\n\n// Функция получения списка из localStorage\nexport function getAllCourses() {\n    const data = localStorage.getItem(STORAGE_KEY);\n    if (!data) {\n        // Если ничего нет в localStorage, записываем initialCourses\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(initialCourses));\n        return initialCourses;\n    }\n    try {\n        return JSON.parse(data);\n    } catch (e) {\n        console.error(\"Ошибка парсинга курсов из localStorage\", e);\n        return [];\n    }\n}\n\n// Функция поиска курса по id\nexport function getCourseById(id) {\n    const courses = getAllCourses();\n    return courses.find((c) => c.id === id) || null;\n}\n\n// Сохранить весь массив курсов\nfunction saveAllCourses(courses) {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(courses));\n}\n\n// Создать новый курс\nexport function createCourse(courseData) {\n    const courses = getAllCourses();\n    // Генерация условного ID\n    const newId = String(Date.now());\n    const newCourse = { id: newId, ...courseData };\n    courses.push(newCourse);\n    saveAllCourses(courses);\n    return newCourse;\n}\n\n// Обновить существующий курс\nexport function updateCourse(id, updates) {\n    const courses = getAllCourses();\n    const index = courses.findIndex((c) => c.id === id);\n    if (index === -1) return null;\n\n    courses[index] = { ...courses[index], ...updates };\n    saveAllCourses(courses);\n    return courses[index];\n}\n\n// Удалить курс\nexport function deleteCourse(id) {\n    let courses = getAllCourses();\n    courses = courses.filter((c) => c.id !== id);\n    saveAllCourses(courses);\n}\n","// entities/schedule/model/scheduleStorage.js\n\nconst SCHEDULE_KEY = \"schedule\";\n\n// Какие-то начальные данные (mock)\nconst initialSchedule = [\n    {\n        id: \"101\",\n        courseId: \"1\",      // курс Математика\n        date: \"2025-02-01\", // YYYY-MM-DD\n        time: \"10:00\",      // строка (HH:mm)\n        room: \"Аудитория 305\",\n    },\n    {\n        id: \"102\",\n        courseId: \"2\",      // курс Физика\n        date: \"2025-02-02\",\n        time: \"12:30\",\n        room: \"Лаборатория 2\",\n    },\n];\n\nfunction saveSchedule(scheduleList) {\n    localStorage.setItem(SCHEDULE_KEY, JSON.stringify(scheduleList));\n}\n\n// Получаем все события расписания\nexport function getAllSchedule() {\n    const data = localStorage.getItem(SCHEDULE_KEY);\n    if (!data) {\n        localStorage.setItem(SCHEDULE_KEY, JSON.stringify(initialSchedule));\n        return initialSchedule;\n    }\n    try {\n        return JSON.parse(data);\n    } catch (e) {\n        console.error(\"Ошибка парсинга schedule из localStorage\", e);\n        return [];\n    }\n}\n\n// Добавляем новое событие\nexport function createScheduleEvent(eventData) {\n    const all = getAllSchedule();\n    const newId = String(Date.now());\n    const newEvent = { id: newId, ...eventData };\n    all.push(newEvent);\n    saveSchedule(all);\n    return newEvent;\n}\n\n// Удаляем событие\nexport function deleteScheduleEvent(id) {\n    let all = getAllSchedule();\n    all = all.filter((item) => item.id !== id);\n    saveSchedule(all);\n}\n\n// Можно сделать updateScheduleEvent, если понадобится\n","\"use client\";\n\nimport { Row } from '../grid';\nexport default Row;","\"use client\";\n\nimport { Col } from '../grid';\nexport default Col;","// pages/DashboardPage/ui/DashboardPage.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { Card, Row, Col, Typography, Button } from \"antd\";\nimport { getSession } from \"../../../features/auth/model/session\";\nimport { getAllCourses } from \"../../../entities/course/model/courseStorage\";\nimport { getAllSchedule } from \"../../../entities/schedule/model/scheduleStorage\";\n\nconst { Title, Text } = Typography;\n\nexport const DashboardPage = () => {\n    const [user, setUser] = useState(null);\n    const [courses, setCourses] = useState([]);\n    const [schedule, setSchedule] = useState([]);\n    const [closestEvent, setClosestEvent] = useState(null);\n\n    useEffect(() => {\n        const sessionUser = getSession();\n        if (sessionUser) {\n            setUser(sessionUser);\n        }\n\n        // Загрузим все курсы\n        const courseData = getAllCourses();\n        setCourses(courseData);\n\n        // Загрузим все события расписания\n        const scheduleData = getAllSchedule();\n        setSchedule(scheduleData);\n\n        // Найдём ближайшее событие (по дате/времени)\n        if (scheduleData.length > 0) {\n            const now = new Date();\n\n            // Преобразуем \"date\" + \"time\" в Date-объект\n            // и найдём самое ближайшее, которое еще не прошло\n            const upcomingEvents = scheduleData\n                .map((ev) => {\n                    const [year, month, day] = ev.date.split(\"-\");\n                    const [hours, minutes] = ev.time.split(\":\");\n                    const eventDate = new Date(\n                        +year,\n                        +month - 1, // месяцы в JS с 0\n                        +day,\n                        +hours,\n                        +minutes\n                    );\n                    return { ...ev, eventDate };\n                })\n                .filter((ev) => ev.eventDate > now)\n                .sort((a, b) => a.eventDate - b.eventDate);\n\n            if (upcomingEvents.length > 0) {\n                setClosestEvent(upcomingEvents[0]);\n            }\n        }\n    }, []);\n\n    // Подсчитаем, сколько курсов ведёт преподаватель (teacher) и т.д.\n    let teacherCoursesCount = 0;\n    if (user && user.role === \"teacher\") {\n        teacherCoursesCount = courses.filter((c) => c.teacherId === user.login).length;\n    }\n\n    return (\n        <div style={{ padding: \"16px\" }}>\n            <Title level={2}>Добро пожаловать, {user?.fullName}!</Title>\n            <Text>\n                Ваша роль: <b>{user?.role === \"teacher\" ? \"Преподаватель\" : \"Студент\"}</b>\n            </Text>\n\n            <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\n                {/* Карточка со статистикой курсов */}\n                <Col span={8}>\n                    <Card>\n                        <Title level={4}>Всего курсов:</Title>\n                        <Text style={{ fontSize: 24 }}>{courses.length}</Text>\n                        {user?.role === \"teacher\" && (\n                            <div style={{ marginTop: 10 }}>\n                                <Text type=\"secondary\">Курсы, которые вы ведёте: </Text>\n                                <Text strong>{teacherCoursesCount}</Text>\n                            </div>\n                        )}\n                        <div style={{ marginTop: 10 }}>\n                            <Button type=\"link\" href=\"#/courses\">\n                                Перейти к курсам\n                            </Button>\n                        </div>\n                    </Card>\n                </Col>\n\n                {/* Карточка с расписанием (количество событий) */}\n                <Col span={8}>\n                    <Card>\n                        <Title level={4}>Расписание:</Title>\n                        <Text style={{ fontSize: 24 }}>{schedule.length} занятий</Text>\n                        {closestEvent ? (\n                            <div style={{ marginTop: 10 }}>\n                                <Text type=\"secondary\">Ближайшее занятие:</Text>\n                                <div>\n                                    <Text>\n                                        {closestEvent.date} в {closestEvent.time}, курс ID{\" \"}\n                                        {closestEvent.courseId}\n                                    </Text>\n                                </div>\n                            </div>\n                        ) : (\n                            <div style={{ marginTop: 10 }}>\n                                <Text type=\"secondary\">Ближайших занятий не найдено.</Text>\n                            </div>\n                        )}\n                        <div style={{ marginTop: 10 }}>\n                            <Button type=\"link\" href=\"#/schedule\">\n                                Посмотреть расписание\n                            </Button>\n                        </div>\n                    </Card>\n                </Col>\n\n                {/* Доп. карточка (пример) */}\n                <Col span={8}>\n                    <Card>\n                        <Title level={4}>Материалы</Title>\n                        <Text>Здесь можно показать количество материалов и т.д.</Text>\n                        {/* Если нужно, подгрузим materials и покажем их количество */}\n                        <div style={{ marginTop: 10 }}>\n                            <Button type=\"link\" href=\"#/teacher-zone\">\n                                Управлять материалами (Teacher Zone)\n                            </Button>\n                        </div>\n                    </Card>\n                </Col>\n            </Row>\n        </div>\n    );\n};\n"],"names":["STORAGE_KEY","initialCourses","id","title","description","teacherId","getAllCourses","data","localStorage","getItem","setItem","JSON","stringify","parse","e","console","error","getCourseById","find","c","saveAllCourses","courses","createCourse","courseData","newId","String","Date","now","newCourse","_objectSpread","push","updateCourse","updates","index","findIndex","deleteCourse","filter","SCHEDULE_KEY","initialSchedule","courseId","date","time","room","saveSchedule","scheduleList","getAllSchedule","createScheduleEvent","eventData","all","newEvent","deleteScheduleEvent","item","Title","Text","Typography","DashboardPage","user","setUser","useState","setCourses","schedule","setSchedule","closestEvent","setClosestEvent","useEffect","sessionUser","getSession","scheduleData","length","upcomingEvents","map","ev","year","month","day","split","hours","minutes","eventDate","sort","a","b","teacherCoursesCount","role","login","_jsxs","style","padding","children","level","fullName","_jsx","Row","gutter","marginTop","Col","span","Card","fontSize","type","strong","Button","href"],"sourceRoot":""}